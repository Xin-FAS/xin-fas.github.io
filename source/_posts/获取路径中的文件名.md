---
title: 获取路径中的文件名
date: 2023-08-18 21:59:59
tags: [TypeScript, JavaScript]
categories: [前端]
---

## 使用

功能：传递文件路径，获取其中的文件地址

一些例子：

```js
basename('D:\\static\\pages\\index.html') // index.html
basename('D:/static/pages/index.html') // index.html
basename('D:/static/pages/index') // index
basename('../index.vue') // index.vue
basename('./../index.text.vue') // index.text.vue
basename('./../index.text.vue', false) // index.text
basename('D:/static/pages/.git') // .git
basename() // Error错误
```

## basename.js

```js
/**
 * 获取路径中的文件名，仿path.basename
 * @param path 文件路径
 * @param suffix 是否保留文件后缀
 */
export const basename = (path, suffix = true) => {
    // 防止传递空
    if (!path) throw new Error('路径不可为空！')
    // 找 / 分隔
    let index = path.lastIndexOf('/')
    // 如果没有就找 \\ 分隔
    index = index !== -1 ? index : path.lastIndexOf('\\')
    // 返回后一位到最后
    let fileName = path.substring(index + 1)
    if (suffix) return fileName
    // 需要去除后缀
    const suffixIndex = fileName.lastIndexOf('.')
    if (suffixIndex !== -1) return fileName.substring(0, suffixIndex)
    return fileName
}
```





